# App自动化工具

一个功能强大的App自动化测试工具，支持Android和iOS设备的自动化测试。

## 功能特点

- 多设备管理：支持同时连接和管理多个Android/iOS设备
- 智能设备检测：自动检测并显示已连接的设备信息
- 可靠的Appium服务管理：自动管理Appium服务的启动和停止
- 操作录制：支持录制用户操作并生成测试用例
- 断言管理：支持添加和管理测试断言
- 测试用例管理：支持创建、编辑和执行测试用例
- 实时日志：详细的操作日志和错误提示
- 友好的用户界面：简洁直观的操作界面

## 系统要求

- Python 3.12.8 或更高版本
- Node.js v20.17.0 或更高版本
- npm 10.8.2 或更高版本
- Appium 2.15.0 或更高版本
- Android SDK（用于Android设备）
- Xcode（用于iOS设备，仅macOS）

## 安装说明

1. 克隆项目代码：
```bash
git clone [项目地址]
cd app_auto_tool
```

2. 创建并激活虚拟环境：
```bash
python -m venv .venv
# Windows
.venv\Scripts\activate
# macOS/Linux
source .venv/bin/activate
```

3. 安装依赖：
```bash
pip install -r requirements.txt
```

4. 安装Appium：
```bash
npm install -g appium
```

## 使用说明

### 设备管理

1. 设备连接
   - 确保设备已通过USB连接到电脑
   - 对于Android设备，确保已启用USB调试
   - 对于iOS设备，确保已安装相应的开发者证书

2. 启动程序
```bash
python main.py
```

3. 连接设备
   - 在设备管理标签页中查看已检测到的设备
   - 点击"连接到Appium"按钮连接设备
   - 等待连接完成，状态显示"已连接"

4. 断开设备
   - 点击"断开"按钮断开设备连接
   - Appium服务将自动停止

### 操作录制

1. 选择已连接的设备
2. 切换到"操作录制"标签页
3. 点击"开始录制"按钮
4. 在设备上执行需要录制的操作
5. 点击"停止录制"按钮
6. 保存录制的操作序列

### 断言管理

1. 切换到"断言管理"标签页
2. 点击"新建断言"按钮
3. 设置断言条件和预期结果
4. 点击"保存"按钮

### 测试用例管理

1. 切换到"测试用例"标签页
2. 创建新测试用例或选择已有用例
3. 添加测试步骤和断言
4. 运行测试用例并查看结果

## 常见问题

1. 设备连接失败
   - 检查USB连接是否正常
   - 确认设备已启用开发者选项和USB调试
   - 检查adb设备列表是否可以识别设备

2. Appium服务启动失败
   - 检查端口是否被占用
   - 确认Appium安装正确
   - 查看appium_[port].log日志文件

3. 录制功能无响应
   - 确认设备连接正常
   - 检查Appium服务状态
   - 重新连接设备

## 更新日志

### v1.0.1 (2024-02-08)
- 优化设备连接状态管理
- 改进Appium服务启动和关闭逻辑
- 增强错误处理和资源清理
- 优化用户界面响应性
- 添加详细的日志记录

### v1.0.0 (2024-02-01)
- 初始版本发布
- 基本功能实现

## 贡献指南

欢迎提交Issue和Pull Request来帮助改进项目。

## 许可证

本项目基于MIT许可证开源。 